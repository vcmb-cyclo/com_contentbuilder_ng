<?xml version="1.0" encoding="utf-8"?>
<form>

  <!-- =======================
       BASIC
  ======================== -->
  <fieldset name="basic" label="COM_CONTENTBUILDER_NG_FIELDSET_BASIC">

    <field name="id" type="text"
           label="JGLOBAL_FIELD_ID_LABEL"
           class="readonly" readonly="true" default="0" />

    <field name="published" type="list"
           label="JSTATUS" default="1" filter="intval">
      <option value="1">JPUBLISHED</option>
      <option value="0">JUNPUBLISHED</option>
      <option value="2">JARCHIVED</option>
      <option value="-2">JTRASHED</option>
    </field>

       <field name="email_users" type="hidden" />
       <field name="email_admins" type="hidden" />

    <field name="name" type="text"
           label="COM_CONTENTBUILDER_NG_FIELD_NAME"
           required="false" filter="string" maxlength="255" />

    <field name="tag" type="text"
           label="COM_CONTENTBUILDER_NG_FIELD_TAG"
           default="default" filter="string" maxlength="255" />

    <field name="title" type="text"
           label="JGLOBAL_TITLE"
           filter="string" maxlength="255" />

    <field name="type" type="text"
           label="COM_CONTENTBUILDER_NG_FIELD_TYPE"
           required="false" filter="string" maxlength="255" />

    <field name="reference_id" type="text"
           label="COM_CONTENTBUILDER_NG_FIELD_REFERENCE_ID"
           required="false" filter="string" maxlength="255" />

    <field name="theme_plugin" type="text"
           label="COM_CONTENTBUILDER_NG_FIELD_THEME_PLUGIN"
           filter="string" maxlength="255" />

    <field name="display_in" type="list"
           label="COM_CONTENTBUILDER_NG_FIELD_DISPLAY_IN"
           default="0" filter="intval">
      <option value="0">COM_CONTENTBUILDER_NG_DISPLAY_IN_NONE</option>
      <option value="1">COM_CONTENTBUILDER_NG_DISPLAY_IN_BACKEND</option>
      <option value="2">COM_CONTENTBUILDER_NG_DISPLAY_IN_FRONTEND</option>
      <option value="3">COM_CONTENTBUILDER_NG_DISPLAY_IN_BOTH</option>
    </field>

    <field name="created" type="calendar"
           label="JGLOBAL_FIELD_CREATED_LABEL"
           format="%Y-%m-%d %H:%M:%S" filter="user_utc" />

    <field name="created_by" type="user"
           label="JGLOBAL_FIELD_CREATED_BY_LABEL" />

    <field name="modified" type="calendar"
           label="JGLOBAL_FIELD_MODIFIED_LABEL"
           format="%Y-%m-%d %H:%M:%S" filter="user_utc" />

    <field name="modified_by" type="user"
           label="JGLOBAL_FIELD_MODIFIED_BY_LABEL" />

    <field name="last_update" type="calendar"
           label="COM_CONTENTBUILDER_NG_FIELD_LAST_UPDATE"
           format="%Y-%m-%d %H:%M:%S" filter="user_utc" />

  </fieldset>


  <!-- =======================
       TEMPLATES / PREPARE
  ======================== -->
  <fieldset name="templates" label="COM_CONTENTBUILDER_NG_FIELDSET_TEMPLATES">
       <field
       name="intro_text"
       type="editor"
       label="COM_CONTENTBUILDER_NG_FIELD_INTRO_TEXT"
       hiddenLabel="true"
       filter="raw"
       buttons="true"
       width="100%"
       height="550"
       rows="20"
       cols="75"
       />

    <field name="details_template" type="editor"
           hiddenLabel="true"
           label="COM_CONTENTBUILDER_NG_FIELD_DETAILS_TEMPLATE"
           filter="raw"
           buttons="true"
           width="100%"
           height="550"
           rows="20"
           cols="75"
       />

    <field name="details_prepare" type="editor"
           editor="none"
           hiddenLabel="true"
           label="COM_CONTENTBUILDER_NG_FIELD_DETAILS_PREPARE"
           filter="raw"
           buttons="false"
           rows="10" />

    <field name="editable_template" type="editor"
           hiddenLabel="true"
           label="COM_CONTENTBUILDER_NG_FIELD_EDITABLE_TEMPLATE"
           filter="raw" rows="12" />

    <field name="editable_prepare" type="editor"
           editor="none"
           hiddenLabel="true"
           label="COM_CONTENTBUILDER_NG_FIELD_EDITABLE_PREPARE"
           filter="raw"
           buttons="false"
           width="100%"
           height="550"
           rows="20"
           cols="75"
    />

  </fieldset>


  <!-- =======================
       LIST / FILTER / DISPLAY
  ======================== -->
  <fieldset name="list" label="COM_CONTENTBUILDER_NG_FIELDSET_LIST">

    <field name="show_filter" type="radio" default="1" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_SHOW_FILTER">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

    <field name="show_records_per_page" type="radio" default="1" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_SHOW_RECORDS_PER_PAGE">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

    <field name="initial_list_limit" type="number" default="20" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_INITIAL_LIST_LIMIT" />

    <field name="initial_sort_order" type="number" default="-1" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_INITIAL_SORT_ORDER" />
    <field name="initial_sort_order2" type="number" default="-1" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_INITIAL_SORT_ORDER2" />
    <field name="initial_sort_order3" type="number" default="-1" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_INITIAL_SORT_ORDER3" />

    <field name="initial_order_dir" type="list" default="desc" filter="string"
           label="COM_CONTENTBUILDER_NG_FIELD_INITIAL_ORDER_DIR">
      <option value="asc">JGLOBAL_ORDER_ASCENDING</option>
      <option value="desc">JGLOBAL_ORDER_DESCENDING</option>
    </field>

    <field name="show_id_column" type="radio" default="1" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_SHOW_ID_COLUMN">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

    <field name="select_column" type="radio" default="0" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_SELECT_COLUMN">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

    <field name="edit_button" type="radio" default="0" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_EDIT_BUTTON">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

<!--
    <field name="list_states" type="radio" default="0" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_LIST_STATES">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>
-->

<!--
    <field name="list_state" type="radio" default="0" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_LIST_STATE">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>
-->

<!--
    <field name="list_publish" type="radio" default="0" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_LIST_PUBLISH">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>
-->

    <field name="allow_external_filter" type="radio" default="0" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_ALLOW_EXTERNAL_FILTER">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

    <field name="filter_exact_match" type="radio" default="0" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_FILTER_EXACT_MATCH">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

  </fieldset>


  <!-- =======================
       UPLOADS
  ======================== -->
  <fieldset name="uploads" label="COM_CONTENTBUILDER_NG_FIELDSET_UPLOADS">

    <field name="upload_directory" type="text"
           label="COM_CONTENTBUILDER_NG_FIELD_UPLOAD_DIRECTORY"
           filter="string" maxlength="1024" />

    <field name="protect_upload_directory" type="checkbox" default="0" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_PROTECT_UPLOAD_DIRECTORY">
      <option value="1">JYES</option>
    </field>

  </fieldset>


  <!-- =======================
       EMAILS
  ======================== -->
  <fieldset name="emails" label="COM_CONTENTBUILDER_NG_FIELDSET_EMAILS">

    <field name="email_notifications" type="radio" default="1" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_NOTIFICATIONS">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

    <field name="email_update_notifications" type="radio" default="0" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_UPDATE_NOTIFICATIONS">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

    <field name="email_subject" type="text"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_SUBJECT"
           filter="string" maxlength="255" />

    <field name="email_recipients" type="textarea"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_RECIPIENTS"
           filter="string" rows="3" />

    <field name="email_alternative_from" type="text"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_ALTERNATIVE_FROM"
           filter="string" maxlength="255" />

    <field name="email_alternative_fromname" type="text"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_ALTERNATIVE_FROMNAME"
           filter="string" maxlength="255" />

    <field name="email_recipients_attach_uploads" type="textarea"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_RECIPIENTS_ATTACH_UPLOADS"
           filter="string" rows="3" />

    <field name="email_html" type="radio" default="0" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_HTML">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

    <field name="email_template" type="editor"
           hiddenLabel="true"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_TEMPLATE"
           filter="raw" 
           width="100%"
           height="550"
           rows="20"
           cols="75"
           />

    <!-- Admin email -->
    <field name="email_admin_subject" type="text"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_ADMIN_SUBJECT"
           filter="string" maxlength="255" />

    <field name="email_admin_recipients" type="textarea"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_ADMIN_RECIPIENTS"
           filter="string" rows="3" />

    <field name="email_admin_alternative_from" type="text"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_ADMIN_ALTERNATIVE_FROM"
           filter="string" maxlength="255" />

    <field name="email_admin_alternative_fromname" type="text"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_ADMIN_ALTERNATIVE_FROMNAME"
           filter="string" maxlength="255" />

    <field name="email_admin_recipients_attach_uploads" type="textarea"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_ADMIN_RECIPIENTS_ATTACH_UPLOADS"
           filter="string" rows="3" />

    <field name="email_admin_html" type="radio" default="0" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_ADMIN_HTML">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

    <field name="email_admin_template" type="editor"
           label="COM_CONTENTBUILDER_NG_FIELD_EMAIL_ADMIN_TEMPLATE"
           filter="raw" 
           width="100%"
           height="550"
           rows="20"
           cols="75"
           />

  </fieldset>


  <!-- =======================
       MISC / FLAGS
  ======================== -->
  <fieldset name="misc" label="COM_CONTENTBUILDER_NG_FIELDSET_MISC">

    <field name="metadata" type="radio" default="1" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_METADATA">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

    <field name="export_xls" type="radio" default="0" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_EXPORT_XLS">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

    <field name="print_button" type="radio" default="1" filter="intval"
           label="COM_CONTENTBUILDER_NG_FIELD_PRINT_BUTTON">
      <option value="0">JNO</option>
      <option value="1">JYES</option>
    </field>

    <field name="ordering" type="number" default="0" filter="intval"
           label="JFIELD_ORDERING_LABEL" />

    <!-- Important: config = base64(serialize()) => on ne valide pas côté JForm -->
    <field name="config" type="textarea"
           label="COM_CONTENTBUILDER_NG_FIELD_CONFIG"
           filter="raw" rows="6" />

  </fieldset>

  <!-- =======================
       INTERNAL / DYNAMIC ARRAYS (Elements editor)
       These fields are posted by the template as arrays:
       jform[itemLabels][ID], jform[itemWordwrap][ID], ...
       We declare them so JForm won't drop them.
  ======================== -->
  <fieldset name="dynamic" label="COM_CONTENTBUILDER_NG_FIELDSET_DYNAMIC" hidden="true">

    <!-- Elements table editor arrays -->
    <field name="itemLabels"
           type="hidden"
           filter="raw"
           multiple="true" />

    <field name="itemWordwrap"
           type="hidden"
           filter="raw"
           multiple="true" />

    <field name="itemWrapper"
           type="hidden"
           filter="raw"
           multiple="true" />

    <field name="itemOrderTypes"
           type="hidden"
           filter="raw"
           multiple="true" />

    <field name="order"
           type="hidden"
           filter="raw"
           multiple="true" />

    <!-- List states editor arrays:
         jform[list_states][stateId][title|color|action|published]
    -->
    <field name="list_states"
           type="hidden"
           filter="raw"
           multiple="true" />

    <!-- Misc buttons/flags posted by the template -->
    <field name="create_sample"
           type="checkbox"
           default="0"
           filter="intval">
      <option value="1">JYES</option>
    </field>

    <field name="create_editable_sample"
           type="checkbox"
           default="0"
           filter="intval">
      <option value="1">JYES</option>
    </field>

    <field name="email_create_sample"
           type="checkbox"
           default="0"
           filter="intval">
      <option value="1">JYES</option>
    </field>

    <field name="email_admin_create_sample"
           type="checkbox"
           default="0"
           filter="intval">
      <option value="1">JYES</option>
    </field>

  </fieldset>
</form>
