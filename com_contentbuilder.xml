<extension type="component" method="upgrade" version="6.0">

    <name>com_contentbuilder</name>
    <creationDate>2025-12-28</creationDate>
    <author>XDA+GIL</author>
    <authorEmail>breezingforms@vcmb.fr</authorEmail>
    <authorUrl>https://breezingforms.vcmb.fr</authorUrl>
    <copyright>Copyright 2011 - 2026 by XDA+GIL</copyright>
    <license>GNU/GPL v2.0</license>
    <version>6.0.0-RC1</version>
    <description>COM_CONTENTBUILDER_XML_DESCRIPTION</description>

    <!-- ===================== -->
    <!-- PSR-4 NAMESPACES -->
    <!-- ===================== -->
    <namespace path="administrator/src">
        CB\Component\Contentbuilder\Administrator
    </namespace>

    <namespace path="site/src">
        CB\Component\Contentbuilder\Site
    </namespace>

    <!-- ===================== -->
    <!-- INSTALL / UNINSTALL -->
    <!-- ===================== -->
 <scriptfile>script.php</scriptfile>

<install>
    <sql>
        <file charset="utf8" driver="mysql">sql/install.sql</file>
    </sql>
</install>

 <uninstall>
  <sql>
    <file charset="utf8" driver="mysql">sql/uninstall.sql</file>
  </sql>
 </uninstall>
 
 <updateservers>
    <server type="extension" name="ContentBuilder" priority="1">https://breezingforms.vcmb.fr/download/contentbuilder_update.xml</server>
 </updateservers>

 <files folder="site">
    <filename>index.html</filename>
    <filename>contentbuilder.php</filename>
    <filename>controller.php</filename>
    <filename>router.php</filename>
    <folder>views</folder>
    <folder>tables</folder>
    <folder>models</folder>
    <folder>controllers</folder>
    <folder>images</folder>
    <folder>elements</folder>
    <folder>assets</folder>
 </files>

 <languages folder="administrator">
    <language tag="en-GB">languages/en-GB/site/en-GB.com_contentbuilder.ini</language>
    <language tag="de-DE">languages/de-DE/site/de-DE.com_contentbuilder.ini</language>
    <language tag="fr-FR">languages/fr-FR/site/fr-FR.com_contentbuilder.ini</language>
 </languages>

<!-- ===================== -->
<!-- ADMINISTRATION -->
<!-- ===================== -->
<administration>
    <menu img="components/com_contentbuilder/views/logo_icon_cb.png">ContentBuilder</menu>
    <submenu>
        <menu controller="storages" img="components/com_contentbuilder/views/logo_icon_cb.png">COM_CONTENTBUILDER_STORAGES</menu>
        <menu controller="forms" img="components/com_contentbuilder/views/logo_icon_cb.png">COM_CONTENTBUILDER_LIST</menu>
        <menu link="option=com_contentbuilder&amp;view=contentbuilder&amp;market=true">Try BreezingForms!</menu>
        <menu view="contentbuilder">COM_CONTENTBUILDER_ABOUT</menu>
    </submenu>

    <!-- Un seul bloc <files> avec folder="administrator" -->
    <files folder="administrator">
        <filename>controller.php</filename>
        <filename>contentbuilder.php</filename>
        <filename>access.xml</filename>
        <filename>config.xml</filename>
        <filename>index.html</filename>
        
        <folder>controllers</folder>
        <folder>models</folder>
        <folder>tables</folder>
        <folder>views</folder>
        <folder>classes</folder>
        <folder>languages</folder>
        <folder>assets</folder>
        <folder>plugins</folder>
        <folder>librairies</folder>
        <folder>services</folder>
        <folder>tmpl</folder>
        <folder>src</folder>
        <folder>sql</folder>
    </files>

    <!-- Languages admin (à laisser séparément, c'est correct) -->
    <languages folder="administrator">
        <language tag="en-GB">languages/en-GB/admin/en-GB.com_contentbuilder.ini</language>
        <language tag="en-GB">languages/en-GB/admin/en-GB.com_contentbuilder.menu.ini</language>
        <language tag="en-GB">languages/en-GB/admin/en-GB.com_contentbuilder.sys.ini</language>
        <language tag="de-DE">languages/de-DE/admin/de-DE.com_contentbuilder.ini</language>
        <language tag="de-DE">languages/de-DE/admin/de-DE.com_contentbuilder.menu.ini</language>
        <language tag="de-DE">languages/de-DE/admin/de-DE.com_contentbuilder.sys.ini</language>
        <language tag="fr-FR">languages/fr-FR/admin/fr-FR.com_contentbuilder.ini</language>
        <language tag="fr-FR">languages/fr-FR/admin/fr-FR.com_contentbuilder.menu.ini</language>
        <language tag="fr-FR">languages/fr-FR/admin/fr-FR.com_contentbuilder.sys.ini</language>
    </languages>

</administration>

</extension>
